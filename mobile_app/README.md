# ğŸ“± Flutter ç§»åŠ¨ç«¯ä¼ä¸šçº§æ¨¡æ¿

> æ¯›ç»ç’ƒï¼ˆGlassmorphismï¼‰è®¾è®¡é£æ ¼ Â· iOS / Android åŒå¹³å° Â· å¼€ç®±å³ç”¨

---

## ğŸ¯ è¿™æ˜¯ä»€ä¹ˆï¼Ÿ

è¿™æ˜¯ä¸€ä¸ª **Flutter ç§»åŠ¨åº”ç”¨çš„èµ·æ­¥æ¨¡æ¿**ã€‚å®ƒå·²ç»å¸®ä½ æ­å¥½äº†ï¼š

- ğŸ¨ æ¯›ç»ç’ƒé£æ ¼çš„ UI ç»„ä»¶åº“ï¼ˆäº®/æš—ä¸»é¢˜è‡ªåŠ¨åˆ‡æ¢ï¼‰
- ğŸŒ ä¸­è‹±æ–‡å›½é™…åŒ–ï¼ˆå¼€ç®±å³ç”¨ï¼‰
- ğŸ“¦ çŠ¶æ€ç®¡ç†ã€è·¯ç”±ã€æ—¥å¿—ã€é”™è¯¯å¤„ç†ç­‰åŸºç¡€è®¾æ–½
- ğŸ“± Android edge-to-edge çŠ¶æ€æ é€‚é…
- ğŸ§© åº•éƒ¨å¯¼èˆªæ  + é¡µé¢åˆ‡æ¢åŠ¨ç”»

ä½ åªéœ€è¦åœ¨ `lib/features/` ä¸‹æ·»åŠ è‡ªå·±çš„ä¸šåŠ¡é¡µé¢å°±è¡Œã€‚

---

## ğŸš€ é›¶åŸºç¡€ç¯å¢ƒæ­å»ºæŒ‡å—

> ä»æ¥æ²¡å†™è¿‡ä»£ç ä¹Ÿæ²¡å…³ç³»ï¼Œè·Ÿç€ä¸€æ­¥æ­¥æ¥å°±è¡Œã€‚

### ç¬¬ä¸€æ­¥ï¼šå®‰è£… Flutter SDK

Flutter æ˜¯ Google çš„è·¨å¹³å°å¼€å‘æ¡†æ¶ï¼Œä¸€å¥—ä»£ç åŒæ—¶ç”Ÿæˆ iOS å’Œ Android åº”ç”¨ã€‚

#### Windows ç”¨æˆ·

1. æ‰“å¼€ https://docs.flutter.dev/get-started/install/windows/mobile
2. ç‚¹å‡»é¡µé¢ä¸Šçš„ **ä¸‹è½½ Flutter SDK** æŒ‰é’®ï¼ˆzip æ–‡ä»¶ï¼Œçº¦ 1GBï¼‰
3. è§£å‹åˆ°ä¸€ä¸ª **è·¯å¾„ä¸­æ²¡æœ‰ä¸­æ–‡å’Œç©ºæ ¼** çš„ç›®å½•ï¼Œæ¯”å¦‚ `C:\flutter`
4. æŠŠ `C:\flutter\bin` æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ `Path` ä¸­ï¼š
   - å³é”®ã€Œæ­¤ç”µè„‘ã€â†’ å±æ€§ â†’ é«˜çº§ç³»ç»Ÿè®¾ç½® â†’ ç¯å¢ƒå˜é‡
   - åœ¨ã€Œç³»ç»Ÿå˜é‡ã€é‡Œæ‰¾åˆ° `Path`ï¼Œç‚¹ç¼–è¾‘ï¼Œæ–°å»ºä¸€è¡Œ `C:\flutter\bin`
5. æ‰“å¼€æ–°çš„å‘½ä»¤è¡Œçª—å£ï¼ˆPowerShell æˆ– CMDï¼‰ï¼Œè¾“å…¥ï¼š
   ```
   flutter --version
   ```
   çœ‹åˆ°ç‰ˆæœ¬å·å°±è¯´æ˜å®‰è£…æˆåŠŸäº†ã€‚

#### macOS ç”¨æˆ·

1. æ‰“å¼€ https://docs.flutter.dev/get-started/install/macos/mobile-ios
2. æ¨èç”¨ Homebrew å®‰è£…ï¼ˆå¦‚æœæ²¡æœ‰ Homebrewï¼Œå…ˆè£…å®ƒï¼‰ï¼š
   ```bash
   brew install --cask flutter
   ```
3. éªŒè¯ï¼š
   ```bash
   flutter --version
   ```

### ç¬¬äºŒæ­¥ï¼šå®‰è£… Android Studioï¼ˆAndroid å¼€å‘å¿…éœ€ï¼‰

1. ä¸‹è½½å®‰è£… Android Studioï¼šhttps://developer.android.com/studio
2. é¦–æ¬¡æ‰“å¼€ä¼šè‡ªåŠ¨ä¸‹è½½ Android SDKï¼Œç­‰å®ƒä¸‹å®Œ
3. æ‰“å¼€ Android Studio â†’ Settings â†’ Plugins â†’ æœç´¢ **Flutter** â†’ å®‰è£…
4. å®‰è£…å®Œä¼šæç¤ºä½ åŒæ—¶å®‰è£… **Dart** æ’ä»¶ï¼Œç‚¹ç¡®è®¤

> ğŸ’¡ å³ä½¿ä½ ä¸ç”¨ Android Studio å†™ä»£ç ï¼Œä¹Ÿéœ€è¦è£…å®ƒï¼Œå› ä¸º Android SDK å’Œæ¨¡æ‹Ÿå™¨éƒ½é å®ƒã€‚

### ç¬¬ä¸‰æ­¥ï¼šå®‰è£… Xcodeï¼ˆä»… macOSï¼ŒiOS å¼€å‘å¿…éœ€ï¼‰

1. ä» Mac App Store å®‰è£… Xcodeï¼ˆå…è´¹ï¼Œä½†å¾ˆå¤§ï¼Œçº¦ 12GBï¼‰
2. å®‰è£…å®Œæ‰“å¼€ä¸€æ¬¡ Xcodeï¼ŒåŒæ„è®¸å¯åè®®
3. å®‰è£…å‘½ä»¤è¡Œå·¥å…·ï¼š
   ```bash
   sudo xcode-select --install
   ```
4. å®‰è£… CocoaPodsï¼ˆiOS ä¾èµ–ç®¡ç†ï¼‰ï¼š
   ```bash
   sudo gem install cocoapods
   ```

### ç¬¬å››æ­¥ï¼šæ£€æŸ¥ç¯å¢ƒ

è¿è¡Œ Flutter è‡ªå¸¦çš„ç¯å¢ƒæ£€æŸ¥å·¥å…·ï¼š

```bash
flutter doctor
```

å®ƒä¼šåˆ—å‡ºæ‰€æœ‰éœ€è¦çš„å·¥å…·å’Œå½“å‰çŠ¶æ€ã€‚ç†æƒ³æƒ…å†µä¸‹å…¨éƒ¨æ‰“ âœ…ã€‚
å¸¸è§é—®é¢˜ï¼š
- `Android license not accepted` â†’ è¿è¡Œ `flutter doctor --android-licenses` ç„¶åä¸€è·¯æŒ‰ `y`
- `cmdline-tools component is missing` â†’ æ‰“å¼€ Android Studio â†’ Settings â†’ SDK Manager â†’ SDK Tools â†’ å‹¾é€‰ `Android SDK Command-line Tools` â†’ Apply

### ç¬¬äº”æ­¥ï¼šè¿æ¥è®¾å¤‡

#### æ–¹å¼ Aï¼šç”¨çœŸæœºï¼ˆæ¨èï¼‰

**Android æ‰‹æœºï¼š**
1. æ‰‹æœºè®¾ç½® â†’ å…³äºæ‰‹æœº â†’ è¿ç»­ç‚¹å‡»ã€Œç‰ˆæœ¬å·ã€7 æ¬¡ â†’ å¼€å¯å¼€å‘è€…æ¨¡å¼
2. è®¾ç½® â†’ å¼€å‘è€…é€‰é¡¹ â†’ æ‰“å¼€ã€ŒUSB è°ƒè¯•ã€
3. ç”¨æ•°æ®çº¿è¿æ¥ç”µè„‘ï¼Œæ‰‹æœºä¸Šå¼¹å‡ºæˆæƒæç¤ºï¼Œç‚¹ã€Œå…è®¸ã€
4. éªŒè¯è¿æ¥ï¼š
   ```bash
   flutter devices
   ```
   èƒ½çœ‹åˆ°ä½ çš„æ‰‹æœºå‹å·å°± OK äº†ã€‚

**iPhoneï¼š**
1. ç”¨æ•°æ®çº¿è¿æ¥ Mac
2. æ‰‹æœºä¸Šç‚¹ã€Œä¿¡ä»»æ­¤ç”µè„‘ã€
3. éœ€è¦ä¸€ä¸ª Apple IDï¼ˆå…è´¹çš„å°±è¡Œï¼Œä¸éœ€è¦ä»˜è´¹å¼€å‘è€…è´¦å·æ¥è°ƒè¯•ï¼‰

#### æ–¹å¼ Bï¼šç”¨æ¨¡æ‹Ÿå™¨

**Android æ¨¡æ‹Ÿå™¨ï¼š**
1. æ‰“å¼€ Android Studio â†’ Tools â†’ Device Manager â†’ Create Device
2. é€‰ä¸€ä¸ªæ‰‹æœºå‹å·ï¼ˆæ¯”å¦‚ Pixel 7ï¼‰â†’ é€‰ä¸€ä¸ªç³»ç»Ÿé•œåƒï¼ˆæ¨èæœ€æ–°çš„ï¼‰â†’ Finish
3. ç‚¹ â–¶ å¯åŠ¨æ¨¡æ‹Ÿå™¨

**iOS æ¨¡æ‹Ÿå™¨ï¼ˆä»… macOSï¼‰ï¼š**
```bash
open -a Simulator
```

---

## ğŸ“¥ è·å–é¡¹ç›®ä»£ç 

```bash
# å…‹éš†é¡¹ç›®ï¼ˆæ›¿æ¢æˆä½ çš„å®é™…ä»“åº“åœ°å€ï¼‰
git clone <ä½ çš„ä»“åº“åœ°å€> my_app
cd my_app
```

---

## â–¶ï¸ å¯åŠ¨é¡¹ç›®

### 1. å®‰è£…ä¾èµ–

```bash
flutter pub get
```

> é¦–æ¬¡è¿è¡Œä¼šä¸‹è½½ä¾èµ–åŒ…ï¼Œéœ€è¦ç½‘ç»œï¼Œå¯èƒ½è¦å‡ åˆ†é’Ÿã€‚

### 2. ç”Ÿæˆå›½é™…åŒ–æ–‡ä»¶

```bash
flutter gen-l10n
```

### 3. è¿è¡Œåˆ°è®¾å¤‡ä¸Š

```bash
# å¦‚æœåªè¿äº†ä¸€ä¸ªè®¾å¤‡ï¼Œç›´æ¥è¿è¡Œ
flutter run

# å¦‚æœè¿äº†å¤šä¸ªè®¾å¤‡ï¼Œå…ˆçœ‹çœ‹æœ‰å“ªäº›
flutter devices

# æŒ‡å®šè®¾å¤‡è¿è¡Œï¼ˆç”¨ flutter devices åˆ—å‡ºçš„è®¾å¤‡ IDï¼‰
flutter run -d <è®¾å¤‡ID>
```

ç¬¬ä¸€æ¬¡è¿è¡Œä¼šæ¯”è¾ƒæ…¢ï¼ˆéœ€è¦ç¼–è¯‘ï¼‰ï¼Œä¹‹åå°±å¿«äº†ã€‚
çœ‹åˆ°æ‰‹æœºä¸Šå‡ºç°åº”ç”¨ç•Œé¢å°±æˆåŠŸäº† ğŸ‰

### 4. çƒ­é‡è½½ï¼ˆæ”¹ä»£ç å®æ—¶çœ‹æ•ˆæœï¼‰

è¿è¡Œä¸­æŒ‰ `r` é”® = çƒ­é‡è½½ï¼ˆä¿ç•™çŠ¶æ€åˆ·æ–° UIï¼‰
è¿è¡Œä¸­æŒ‰ `R` é”® = çƒ­é‡å¯ï¼ˆé‡ç½®çŠ¶æ€ï¼‰
è¿è¡Œä¸­æŒ‰ `q` é”® = é€€å‡º

---

## ğŸ”§ è‡ªå®šä¹‰ä½ çš„é¡¹ç›®

### æ”¹é¡¹ç›®åç§°

1. ä¿®æ”¹ `pubspec.yaml` ä¸­çš„ `name` å’Œ `description`
2. ä¿®æ”¹ `lib/core/config/app_config.dart` ä¸­çš„ `name`ã€`description`ã€`version`
3. ä¿®æ”¹ Android åŒ…åï¼š`android/app/build.gradle.kts` ä¸­çš„ `applicationId`
4. ä¿®æ”¹ iOS Bundle IDï¼šç”¨ Xcode æ‰“å¼€ `ios/Runner.xcworkspace`ï¼Œåœ¨ General é‡Œæ”¹

### æ”¹åº”ç”¨å›¾æ ‡

1. æŠŠä½ çš„å›¾æ ‡æ–‡ä»¶æ”¾åˆ° `assets/app_icon.png`ï¼ˆå»ºè®® 1024x1024 åƒç´ ï¼‰
2. è¿è¡Œï¼š
   ```bash
   dart run flutter_launcher_icons
   ```
   å®ƒä¼šè‡ªåŠ¨ç”Ÿæˆ Android å’Œ iOS æ‰€æœ‰å°ºå¯¸çš„å›¾æ ‡ã€‚

### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `lib/features/` ä¸‹åˆ›å»ºæ–°ç›®å½•å’Œé¡µé¢æ–‡ä»¶ï¼Œæ¯”å¦‚ `lib/features/profile/profile_page.dart`
2. åœ¨ `lib/core/router/app_router.dart` çš„ `ShellRoute.routes` ä¸­æ·»åŠ è·¯ç”±
3. åœ¨ `lib/core/layout/app_shell.dart` çš„ `_navItems` ä¸­æ·»åŠ å¯¼èˆªé¡¹
4. åœ¨ `lib/l10n/app_zh.arb` å’Œ `app_en.arb` ä¸­æ·»åŠ æ–‡æœ¬
5. è¿è¡Œ `flutter gen-l10n` é‡æ–°ç”Ÿæˆå›½é™…åŒ–ä»£ç 

---

## ğŸ“ é¡¹ç›®ç»“æ„é€Ÿè§ˆ

```
lib/
â”œâ”€â”€ main.dart                 # åº”ç”¨å…¥å£
â”œâ”€â”€ l10n/                     # å›½é™…åŒ–æ–‡ä»¶ï¼ˆä¸­/è‹±ï¼‰
â”œâ”€â”€ core/                     # æ ¸å¿ƒåŸºç¡€è®¾æ–½ï¼ˆä¸ç”¨æ”¹ï¼Œç›´æ¥ç”¨ï¼‰
â”‚   â”œâ”€â”€ config/               # åº”ç”¨é…ç½®ï¼ˆåç§°ã€ç‰ˆæœ¬ï¼‰
â”‚   â”œâ”€â”€ errors/               # å…¨å±€é”™è¯¯å¤„ç†
â”‚   â”œâ”€â”€ logger/               # æ—¥å¿—ç³»ç»Ÿ
â”‚   â”œâ”€â”€ services/             # äº‹ä»¶æ€»çº¿ã€å­˜å‚¨æœåŠ¡
â”‚   â”œâ”€â”€ providers/            # çŠ¶æ€ç®¡ç†ï¼ˆä¸»é¢˜ã€è¯­è¨€ï¼‰
â”‚   â”œâ”€â”€ router/               # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ layout/               # ä¸»å¸ƒå±€ï¼ˆåº•éƒ¨å¯¼èˆªæ ï¼‰
â”‚   â”œâ”€â”€ theme/                # ä¸»é¢˜å’Œé¢œè‰²
â”‚   â”œâ”€â”€ widgets/              # é€šç”¨ UI ç»„ä»¶ï¼ˆæ¯›ç»ç’ƒå¡ç‰‡ç­‰ï¼‰
â”‚   â”œâ”€â”€ utils/                # å·¥å…·ç±»
â”‚   â””â”€â”€ extensions/           # ä¾¿æ·æ‰©å±•æ–¹æ³•
â””â”€â”€ features/                 # â­ ä½ çš„ä¸šåŠ¡ä»£ç æ”¾è¿™é‡Œ
    â”œâ”€â”€ home/                 # é¦–é¡µ
    â””â”€â”€ settings/             # è®¾ç½®é¡µ
```

> æ—¥å¸¸å¼€å‘åªéœ€è¦å…³æ³¨ `features/` ç›®å½•ã€‚`core/` æ˜¯åŸºç¡€è®¾æ–½ï¼Œä¸€èˆ¬ä¸éœ€è¦æ”¹åŠ¨ã€‚

---

## ğŸ›  å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

| å‘½ä»¤ | ä½œç”¨ |
|------|------|
| `flutter pub get` | å®‰è£…ä¾èµ– |
| `flutter run` | è¿è¡Œåˆ°è®¾å¤‡ |
| `flutter gen-l10n` | é‡æ–°ç”Ÿæˆå›½é™…åŒ– |
| `dart analyze lib` | ä»£ç é™æ€åˆ†æ |
| `flutter test` | è¿è¡Œæµ‹è¯• |
| `flutter build apk` | æ„å»º Android APK |
| `flutter build ios` | æ„å»º iOSï¼ˆéœ€ macOSï¼‰ |
| `flutter clean` | æ¸…ç†æ„å»ºç¼“å­˜ï¼ˆé‡åˆ°å¥‡æ€ªé—®é¢˜æ—¶è¯•è¯•ï¼‰ |
| `flutter doctor` | æ£€æŸ¥å¼€å‘ç¯å¢ƒ |

---

## â“ å¸¸è§é—®é¢˜

### Q: `flutter pub get` å¾ˆæ…¢æˆ–å¤±è´¥ï¼Ÿ

å›½å†…ç½‘ç»œå¯èƒ½éœ€è¦é…ç½® Flutter é•œåƒï¼š

```bash
# Windows PowerShellï¼ˆä¸´æ—¶ç”Ÿæ•ˆï¼‰
$env:PUB_HOSTED_URL="https://pub.flutter-io.cn"
$env:FLUTTER_STORAGE_BASE_URL="https://storage.flutter-io.cn"

# macOS / Linuxï¼ˆåŠ åˆ° ~/.zshrc æˆ– ~/.bashrc æ°¸ä¹…ç”Ÿæ•ˆï¼‰
export PUB_HOSTED_URL=https://pub.flutter-io.cn
export FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn
```

### Q: Android æ‰‹æœºè¿ä¸Šäº†ä½† `flutter devices` çœ‹ä¸åˆ°ï¼Ÿ

- ç¡®è®¤å¼€å¯äº†ã€ŒUSB è°ƒè¯•ã€
- æ¢ä¸€æ ¹æ•°æ®çº¿è¯•è¯•ï¼ˆæœ‰äº›çº¿åªèƒ½å……ç”µä¸èƒ½ä¼ æ•°æ®ï¼‰
- Windows å¯èƒ½éœ€è¦å®‰è£…æ‰‹æœºå“ç‰Œçš„ USB é©±åŠ¨

### Q: è¿è¡Œæ—¶æŠ¥ `Gradle build failed`ï¼Ÿ

```bash
flutter clean
flutter pub get
flutter run
```

### Q: iOS è¿è¡ŒæŠ¥ CocoaPods é”™è¯¯ï¼Ÿ

```bash
cd ios
pod install --repo-update
cd ..
flutter run
```

### Q: æ”¹äº†ä»£ç ä½†çƒ­é‡è½½æ²¡æ•ˆæœï¼Ÿ

æœ‰äº›æ”¹åŠ¨ï¼ˆæ¯”å¦‚æ”¹äº† `main.dart`ã€æ·»åŠ äº†æ–°ä¾èµ–ï¼‰éœ€è¦æŒ‰ `R` çƒ­é‡å¯ï¼Œæˆ–è€…ç›´æ¥ `Ctrl+C` åœæ‰é‡æ–° `flutter run`ã€‚

---

## ğŸ“– è¿›é˜¶é˜…è¯»

- [Flutter å®˜æ–¹æ–‡æ¡£](https://docs.flutter.dev/)
- [Dart è¯­è¨€å…¥é—¨](https://dart.dev/language)
- [Riverpod çŠ¶æ€ç®¡ç†](https://riverpod.dev/)
- [GoRouter è·¯ç”±](https://pub.dev/packages/go_router)
- æœ¬é¡¹ç›®çš„ [ARCHITECTURE.md](./ARCHITECTURE.md) â€” AI å¼€å‘æŒ‡å—ï¼ˆé¢å‘å¼€å‘è€…å’Œ AI åŠ©æ‰‹ï¼‰
